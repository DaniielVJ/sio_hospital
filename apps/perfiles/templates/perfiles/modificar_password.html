{% extends "base.html" %}
{% load static %}


{% block estilos_personalizados %}
    <link rel="stylesheet" href="{% static 'perfiles/css/resetPassword.css' %}">
    <link rel="stylesheet" href="{% static 'cssbase/toastify.min.css' %}">
{% endblock estilos_personalizados %}
    

{% block content %}
    <div class="reset-wrapper">

    <div class="reset-card">

        <header class="reset-header">
            <img 
                class="reset-logo"
                src="{% static 'perfiles/img/HermindaMartin.png' %}"
                width="220"
                height="80"
                alt="Logo Herminda Mart√≠n"
            />

            <h1 class="reset-title">Modifique la contrase√±a</h1>
            <p class="reset-subtitle">Ingrese y confirme su nueva contrase√±a. Para ingresar al sistema, debe modificar la que se le otorgo por defecto.</p>
        </header>

        <form class="reset-form" method="post">
            {% csrf_token %}
            <fieldset class="form-fields">

                <div class="form-field">
                    <label for="new-password">{{form.new_password.label}}</label>
                    {{form.new_password}}
                    <button type="button" class="toggle-password" data-target="new-password">üëÅÔ∏è</button>
                </div>

                <div class="form-field">
                    <label for="confirm-password">{{form.confirm_password.label}}</label>
                    {{form.confirm_password}}
                    <button type="button" class="toggle-password" data-target="confirm-password">üëÅÔ∏è</button>
                </div>

                <button type="submit" class="btn btn-primary">Actualizar contrase√±a</button>

            </fieldset>

            <div id="reset-error" class="reset-error">
                <span>Las contrase√±as no coinciden. Intente nuevamente.</span>
            </div>
            <ul class="">
                {% for error in form.non_field_errors %}
                    <li>{{error}}</li>
                {% endfor %}
                    
            </ul>

        </form>

        <a href="{% url 'login' %}" class="back-to-login">Volver al inicio de sesi√≥n</a>

    </div>

</div>
{% endblock content %}
    


{% block scripts %}
    <script src="{% static 'perfiles/js/resetPassword.js' %}"></script>
    <script src="{% static 'js/toastify.min.js' %}"></script>

    
    {% if messages %}
        
        {% for message in messages %}
            <script>
                Toastify({
                    text: "{{ message }}",
                    duration: 2000,
                    gravity: "top",
                    position: "right",
                    style: { background: "#e74c3c", borderRadius: "12px"}
                }).showToast();
            </script>
        {% endfor %}
            
    {% endif %}
        

{% endblock scripts %}
    